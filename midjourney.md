# Grit Mini App — зафиксированный результат (prod)

## Деплой
- Frontend (GitHub Pages): https://jimbokl.github.io/grit-miniapp/
- Backend API (HTTPS): https://212-34-150-91.sslip.io/grit
  - Health: https://212-34-150-91.sslip.io/grit/healthz

## Что работает сейчас
- Навигация по вкладкам (Путь, Цели, Прогресс, Тренажёр, Профиль)
  - Секции скрываются через .hidden; на странице показывается только активная вкладка
- Генерация плана (вкладка «Цели»)
  - Форма: задача, частота, время, ограничения
  - Вызов /api/plan/generate → ответ c plan_text + structured
  - План сохраняется в localStorage и раскладывается по структуре (ежедневный ритуал, мини‑план, фокус‑блоки, анти‑срыв, маркеры недели)
  - «Фокус дня» автозаполняется из первого пункта мини‑плана
- Ежедневный чек‑ин (модалка)
  - Сохранение усилий (1–5), победы, сложности; обновление стрика и KPI
- KPI (в «Прогресс»)
  - Макс. стрик, число сохранённых дней, средний балл усилий (за последние 7 дней)
- Профиль
  - Имя (initData/настройки), часовой пояс, аватар‑инициалы, уровень/прогресс по стрику

## Интеграции
- Gemini API через backend (FastAPI)
- CORS настроен для https://jimbokl.github.io
- Nginx: /grit проксирует к backend на 127.0.0.1:10000
- SSL Let’s Encrypt для 212-34-150-91.sslip.io

## Конфиг клиента (app.js)
- GH Pages → API base: https://212-34-150-91.sslip.io/grit
- Локально → http://localhost:8000
- Состояние хранится в localStorage (`grit_state`, ключи целей `grit_goal_*`)

## Следующие шаги (high‑level)
- Цели (CRUD): редактирование/удаление, приоритеты, привязка к прогрессу
- Прогресс: тепловая карта активности и фильтры периодов
- Тренажёр: динамические карточки практик и рекомендаций
- Профиль: экспорт/импорт бэкапа, сброс данных
- Улучшить валидацию/ошибки в UI (таймауты/ретраи)

## Примечания
- .env не коммитится (см. .gitignore)
- Все изменения внесены без ломки рабочей логики вкладок; отображается только активная секция
